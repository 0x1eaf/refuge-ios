desc "Runs tests."
# Usage: rake test
task :test do
  system "xctool -project RRiOSApp/RRiOSApp.xcodeproj -scheme RRiOSApp -sdk iphonesimulator8.0 build"
end

desc "Commits changes."
# Usage: rake commit "Commit message."
task :commit do
  message = ARGV.last
  task message.to_sym do ; end
  system "git add --all"
  system "git commit -am '#{message}'"
  system "rm -r ../refuge-ios/*"
  system "cp -r ./* ../refuge-ios/"
  system "cd ../refuge-ios/"
  system "git add --all"
  system "git commit -am '#{message}'"
  system "cd ../iOS-RefugeRestrooms-App"
  puts "Git commit attempt complete."
end

desc "Commits changes."
# Usage: rake ship "Commit message."
task :ship do
  message = ARGV.last
  task message.to_sym do ; end
  system "git add --all"
  system "git commit -am '#{message}'"
  system "git push"
  system "rm -r ../refuge-ios/*"
  system "cp -r ./* ../refuge-ios/"
  system "cd ../refuge-ios/"
  system "git add --all"
  system "git commit -am '#{message}'"
  system "git push"
  system "cd ../iOS-RefugeRestrooms-App"
  puts "Git commit attempt complete."
end
