desc "Runs tests with xctool."
# Usage: rake test
task :test do
  system "xctool -project RRiOSApp/RRiOSApp.xcodeproj -scheme RRiOSApp -sdk iphonesimulator8.0 build"
end

desc "Builds with xcodebuild."
# Usage: rake build
task :buid do
  system "xcodebuild -project RRiOSApp/RRiOSApp.xcodeproj -target RRiOSApp -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO"
end

desc "Commits changes."
# Usage: rake commit "Commit message."
task :commit do
  message = ARGV.last
  task message.to_sym do ; end
  system "git add --all"
  system "git commit -am '#{message}'"
  system "rm -r ../refuge-ios/*"
  system "cp -r ./* ../refuge-ios/"
  puts "Git commit attempt complete."
end

desc "Commits changes."
# Usage: rake ship "Commit message."
task :ship do
  message = ARGV.last
  task message.to_sym do ; end
  system "git add --all"
  system "git commit -am '#{message}'"
  system "git push"
  system "rm -r ../refuge-ios/*"
  "cp -r ./* ../refuge-ios"
  puts "Git commit attempt complete."
end
